# 역할, 책임, 협력

### 훌륭한 객체지향 설계는 객체간의 조화를 이루며 적극적으로 상호작용하는 협력적인 객체를 창조하는 것이다.
> 협력이 객체의 행동을 결정하고 행동이 객체의 상태를 결정한다. 즉, 객체간의 협력을 통해 객체를 결정하는 것이 이번 장의 주제이다.


## 협력

### 협력은 `요청`과 `응답`으로 이루어진 `네트워크`이다. 
> 사람으로 예를 들자면 `협력`은 한 사람이 다른 사람에게 `요청`할 때 시작된다.   
> 요청을 받은 사람은 일을 처리한 후 요청한 사람에게 필요한 지식이나 서비스를 제공하는 것으로 요청에 `응답` 한다.   
> 요청을 받은 사람도 자신에게 주어진 일을 처리하던 중에 다른 사람의 도움이 필요할 경우 `요청`할 수도 있다.

### ***결과적으로 협력은 다수의 연쇄적인 요청과 응답의 흐름으로 구성된다.***


## 책임
객체지향의 세계에서는 어떤 객체가 어떤 요청에 대해 대답해줄 수 있거나 적절한 행동을 할 의무가 있는 경우 해당 객체가 `책임`을 가진다고 말한다


> 객체지향 개발에서 가장 중요한 능력은 책임을 능숙하게 소프트웨어 객체에 할당하는 것 - 크레이그 라만


### 책임의 분류

협력에 참여하는 객체들은 목표를 달성하는데 필요한 책임을 수행한다. 
> 책임은 크게 `하는 것`과 `아는 것`으로 분류하고 있다
> ### 하는 것
> * 객체를 생성하거나 계산을 하는 등의 스스로 하는 것
> * 다른 객체의 행동을 시작시키는 것
> * 다른 객체의 활동을 제어하고 조절하는 것
> ### 아는 것
> * 개인적인 정보에 관해 아는 것
> * 관련된 객체에 관해 아는 것
> * 자신이 유도하거나 계산할 수 있는 것에 관해 아는 것



## 역할
역할은 동일한 책임의 집합을 수행할 수 있는 객체들의 `추상화`이다.
> 또한 역할은 다양한 객체들이 협력에 참여할 수 있기 때문에 협력을 추상화하여 재사용성이 높아진다.   
> 역할은 객체지향 설계의 단순성, 유연성, 재사용성을 뒷받침하는 핵심 개념이다.
* 역할을 이용하면 협력을 추상화함으로써 구체적인 객체로 추상적인 역할을 대체해서 동일한 구조의 협력을 다양한 문맥에서 재사용할 수 있다.



### 대체가능성
역할은 본질적으로 다른 객체에 의해 대체 가능함을 의미하는데 이를 위해서는 행동이 호환되어야 한다. 
> 이는 객체가 협력 안에서 역할이 수행할 수 있는 행동을 그대로 수행할 수 있어야 함을 의미한다.
> * 일반화-특수화 관계를 말하며 역할의 대체 가능성은 행위 호환성 즉, 동일한 책임의 수행을 의미한다