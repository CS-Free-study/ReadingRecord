# 4. 역할, 책임, 협력

- 협력이라는 문맥이 객체의 행동 방식을 결정한다.

> 늘 강조되어 왔지만 상태와 행동이 먼저 결정되는 것이 아닌 협력을 먼저 고려한 후에야 결정된다는 것을 가슴 속에 새겨야 한다.

- 훌륭한 객체지향 설계란 조화를 이루며 적극적으로 상호작용하는 협력적인 객체를 창조하는 것이다.

> 협력 -> 행동 -> 상태 순으로 결정된다,

- 협력은 다수의 요청과 응답으로 구성되며 전체적으로 협력은 다수의 연쇄적인 요청과 응답의 흐름으로 구성된다.

> 협력은 객체들 사이의 동일한 목적을 달성하기 위한 수단이라고 생각해도 좋을 것 같다.

- 객체지향의 세계에서는 어떤 객체가 어떤 요청에 대해 대답해 줄 수 있거나, 적절한 행동을 할 의무가 있는 경우 해당 객체가 책임을 가진다고 말한다.

> 즉, 협력을 통해 어떠한 목적을 달성하고자 할 떄 각 객체에서 책임을 가지고 행동을 해야 달성할 수 있다는 것이다.

- 객체가 다른 객체에게 주어진 책임을 수행하도록 요청을 보내는 것을 메시지 전송이라고 한다.

> 두 객체 간의 협력은 메시지를 통해 이뤄진다고 봐도 될 것 같다.

- 메시지는 협력을 위해 한 객체가 다른 객체로 접근할 수 있는 유일한 방법이다.

#### 객체지향 설계는 협력에 참여하기 위해 어떤 객체가 어떤 책임을 수행해야 하고 어떤 객체로부터 메시지를 수신할 것인지를 결정하는 것으로부터 시작된다.

- 어떤 객체가 수행하는 책임의 집합은 객체가 협력 안에서 수행하는 역할을 암시한다.

> 역할은 협력 내에서 다른 객체로 대체할 수 있음을 나타내는 일종의 표식이다. 이 떄 역할을 수행할 수 있는 객체는 어떤 객체라도 가능하지만, 동일한 메시지를 이해할 수 있는 객체로 한정된다.

#### 역할을 이용하면 협력을 추상화함으로써 단순화할 수 있다.

- 올바른 객체를 설계하기 위해서는 먼저 견고하고 깔끔한 협력을 설계해야 한다.

> 협력을 설계한다는 것은 설계에 참여하는 객체들이 주고받을 요청과 응답의 흐름을 결정한다는 것을 의미한다.

- 객체지향 설계의 핵심은 올바른 책임을 올바른 객체에게 할당하는 것이다.

> 책임 - 주도 설계에서는 시스템의 책임을 객체의 책임으로 변환하고, 각 객체가 책임을 수행하는 중에 필요한 정보나 서비스를 제공해줄 협력자를 찾아 해당 협력자에게 책임을 할당하는 순차적인 방식으로 객체들의 협력 공동체를 구축한다.

- 테스트-주도 개발은 테스트를 통과하는 가장 간단한 코드를 작성한 후 리팩터링을 통해 중복을 제거하는 것이다.

# 결론

> 객체들이 협력을 함에 따라 하나의 동일한 목적을 이룰 수 있으며, 이 때 각 객체들은 역할을 할당받으며 역할에 해당하는 책임을 수행한다. 이 때 행동과 상태가 결정되며, 각 요청과 응답에는 메시지가 사용된다.   
