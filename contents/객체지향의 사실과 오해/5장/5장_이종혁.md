# 책임과 메세지

## 책임
### 훌륭한 객체지향 공동체를 구성하기 위해서는 객체가 `자율적`이어야 한다
> 자율적인 객체란 스스로 정한 원칙에 따라 판단하고 스스로의 의지를 기반으로 행동하는 객체이다.

여기서 말하는 "행동"은 객체가 요청을 처리하기 위해 수행하는 `책임`이다.


### ***왜 객체는 자신의 책임을 자율적으로 처리해야 할까?***
<br>

책에 나와있는 재판을 예로 들어보자.
1. "증언하라" 하나의 요청을 한 경우
> 증인은 증언이라는 책임만 완수할 수 있다면 나머지 구체적인 방법이나 절차는 자유롭게 선택할 수 있다
> * 기억을 토대로 설명할지, 기록해둔 내용을 참고해서 증언할지 선택할 수 있다.



2. "목격했던 장면을 떠올려라", "떠오르는 기억을 시간 순서대로 재구성하라", "말로 간결하게 표현하라" 3단계의 구체적인 요청을 한 경우
> 증인은 반드시 3단계에 맞춰서 증언을 해야 되기 때문에 증언이라는 책임은 완수할지라도 결과적으로 증인은 자율적으로 책임을 수행할 수 없다.

<br>

### 객체가 자율적이기 위해서는 객체에게 할당되는 책임의 수준 역시 자율적이어야 한다. 결국 책임의 추상화로 이어진다
> 책임을 적당히 추상화하기 위해서는 `어떻게(how)`가 아닌 `무엇(what)`을 해야하는지 설명해야한다.

<br>

## 메시지
### 객체가 다른 객체에게 접근할 수 있는 유일한 방법은 `요청`을 전송하는 방법뿐이다. 이를 `메시지`라고 부른다.

> 메시지를 수신받은 객체는 자신이 메시지를 처리할 수 있는지 확인한다. 메시지를 처리할 수 있다는 것은 해당 메시지에 해당하는 행동을 수행해야 할 책임이 있다는 것이다.
* 즉,  객체가 수신할 수 있는 메시지가 객체의 책임을 결정한다
> 송신자는 메시지 전송을 통해서만 다른 객체에게 책임을 요청할 수 있고, 수신자는 메시지 수신을 통해서만 자신의 책임을 수행할 수 있다.
> * 메시지: 공개된 영역
> * 책임을 수행하는 방법(메서드): 사적인 영역





<br>

## 메서드
> 메시지를 처리하기 위해 객체가 내부적으로 선택하는 방법

### ***메시지는 `어떻게`가 아닌 `무엇`을 수행할지 만을 명시하며 어떤 메서드를 선택할 것인지는 수신자의 선택이다.***


### 다형성
> 다형성이란 동일한 메시지를 처리하는 서로 다른 방식의 메서드를 말한다
> * 대표적으로 메서드 오버라이딩이 있다


서로 다른 객체가 동일한 메시지를 수신한다는 것은 동일한 책임을 수행한다는 것과 같다. 
송신자의 입장에서 이 객체들은 동일한 책임을 수행하는 것이기 때문에 다형적인 수신자들을 구별할 필요가 없다
> 즉, 수신자에 대한 캡슐화, 객체들의 대체 가능성을 이용해 설계를 유연하고 재사용 가능하게 만든다.


* 이것은 다음 3가지를 의미하는데


1. 협력이 유연해진다.
   * 수신자에 대한 대체 가능성
2. 협력이 수행되는 방식을 확장할 수 있다.
   * 협력의 세부적인 수행 방식을 쉽게 수정할 수 있다
3. 협력이 수행되는 방식을 재사용할 수 있다. 
   * 대체 가능한 모든 객체에 협력이 재사용될 수 있다.
> 이것은 모두 메시지가 송신자와 수신자 사이의 결합도를 낮춤으로써 발생하는 장점이다


객체가 다른 객체에게 도움을 요청하기 위해 `어떤 메시지가 필요한지 결정`하고 메시지를 수신하기에 적합한 객체를 선택한다. 수신자는 송신자의 메시지를 처리할 책임이 있고 결과적으로 `메시지가 수신자의 책임을 결정한다`

<br><br>

이번 장에서는 `메시지`를 통해 객체의 책임을 결정하고 나아가 수신 가능한 메시지가 모여 객체의 인터페이스를 결정하기 때문에 많이 강조되고 있다. 결국 메시지를 적절히 `추상화`할 수 있다면 
1. 객체의 외부와 내부를 분리하는 상태와 행동의 `캡슐화`
2. 책임의 `자율화`
3. 수신자의 `캡슐화`의 효과를 얻을 수 있다
> `캡슐화`는 두 가지 관점에서 사용된다
> 1. 상태와 행동의 캡슐화
>   * 이를 `데이터 캡슐화`라고 부른다
> 2. 사적인 비밀의 캡슐화
>   * 공용 인터페이스를 통해 외부에 제공해야 할 필요가 있는 메시지만을 남기고 개인적인 비밀은 인터페이스 내부에 감춘다



## 인터페이스
인터페이스는 어떤 두 사물이 마주치는 경계 지점에서 서로 상호작용할 수 있게 이어주는 방법이나 장치를 의미한다고 한다.
> 예를 들어, GUI(graphice user interface), 스마트폰, 자동차의 계기판, 액셀 등이 있을 것이다.


즉, 객체지향 세계에서의 인터페이스란 객체끼리 협력하기 위한 접점으로 객체가 `수신할 수 있는 메시지`의 집합이다.
> 모든 인터페이스는 메시지 전송을 통해서만 접근할 수 있다. 자기 자신한테도 예외는 아니다.


### 인터페이스의 특성
1. 사용법만 알고 있으면 대상의 내부 구조나 동작 방법을 몰라도 상호작용이 가능하다.
    * 스마트폰의 어플을 키는데 있어서 어떤 방식으로 켜지는지 알 필요는 없다
2. 인터페이스가 변경되지 않고 단순히 내부 구성이나 작동 방식이 변경되는 것은 인터페이스 사용자에게 아무런 영향도 미치지 않는다.
    * 컴퓨터의 부품이 바뀌었다고 해서 컴퓨터를 다루는 방법은 바뀌지 않는다
3. 인터페이스가 동일하기만 하다면 어떤 대상과도 상호작용할 수 있다.
    * 자동차의 운전 방법을 안다면 어떤 제조사의 자동차도 운전할 수 있다.





# 정리
* 협력에 참여하는 객체의 책임이 자율적이어야 한다.
* 객체의 책임을 정하는 것은 메시지이다.
* 객체의 책임이 자유롭기 위해서는 메시지가 적절히 추상화되어야 한다.
* 수신할 수 있는 메시지의 집합은 객체의 인터페이스를 이룬다.
* 인터페이스는 수신할 수 있는 메시지를 외부로 노출하고 개인적인 비밀, 상태와 행동을 내부로 감춤으로써 `캡슐화`를 한다.
> 따라서 객체가 어떤 메시지를 수신할 수 있느냐가 어떤 책임을 수행할 수 있느냐와 어떤 인터페이스를 가질 것인지 결정한다