# 1장. 협력하는 개체들의 공동체

> 소프트웨어 객체란 실세계 사물의 모방이라는 전통적인 관점에서 객체지향의 다양한 개념 설명
> 

## 협력하는 사람들

### 커피 공화국의 아침

- 커피 한 잔을 주문하는 이벤트에는 세 사람의 조율과 조화가 필요하다.

- 커피를 주문하고 제조하는 과정은 역할, 책임, 협력이라는 세 가지 개념이 한데 어울려 조화를 이룬다.

- 이 모든 과정 속에는 손님, 캐시어, 바리스타 사이의 암묵적인 협력 관계가 존재한다.

- 커피를 주문하는 손님
    > 카페인을 채우기 위해 커피를 주문할 책임을 수행
- 주문을 받는 캐시어
    > 손님의 주문을 받는 책임을 성실히 수행
- 커피를 제조하는 바리스타
    > 주문된 커피를 제조하는 책임을 수행

### 요청과 응답으로 구성된 협력

- 사람들은 스스로 해결하지 못하는 문제와 마주치면 문제 해결에 필요한 지식을 알고 있거나 서비스를 제공해줄 수 있는 사람에게 도움을 `요청`(request)한다.

> 손님이 캐시어에게 커피를 주문하는 것 == 캐시어에게 커피를 제공해 줄 것을 `요청`하는 것
> 
> 캐시어가 바리스타에게 컵을 전달하는 것 == 바리스타에게 커피를 제조해 줄 것을 `요청`하는 것

- 요청을 받은 사람은 주어진 책임을 다하면서 필요한 지식이나 서비스를 제공한다.즉, 요청에 `응답`(response)한다.

> 바리스타가 커피를 제조한 후 제조가 완료됐음을 캐시어에게 알려주는 것 == 캐시어의 요청에 `응답`하는 것
> 
> 캐시어가 진동벨을 울려 손님에게 커피가 준비됐음을 알려주는 것 == 손님의 주문에 `응답`하는 것

- 요청과 응답을 통해 다른 사람과 `협력`(collaboration)할 수 있는 능력은 문제를 해결할 수 있는 공동체를 형성할 수 있게 만든다.

### 역할과 책임

- 사람들은 다른 사람과 협력하는 과정 속에서 특정한 `역할`(role)을 부여받는다.

- 손님이 주문한 커피를 제조하기 위해 캐시어와 바리스타가 협력하는 과정 → 손님, 캐시어, 바리스타라는 `역할`이 존재

> `역할`은 `책임`(responsibility)이라는 개념을 내포한다.
>
> `역할`과 `책임`은 `협력`이 원할하게 진행되는 데 필요한 핵심적인 구성 요소이다.

- 손님은 커피를 주문할 `책임`이 있다.
- 캐시어는 주문 내용을 바리스타에게 전달할 `책임`과 커피가 준비됐음을 손님에게 알릴 `책임`이 있다.
- 바리스타는 커피를 제조할 `책임`이 있다.

- 여러 사람이 동일한 역할을 수행할 수 있다.
    
    > 손님은 주문한 커피를 마실 수만 있다면 어떤 캐시어가 주문을 받는 지는 중요하지 않다.
    > 
    
    > 어떤 캐시어든 간에 주문을 받고 커피가 준비됐음을 알리는 책임만 이행하면 된다.
    > 
- 역할은 대체 가능성을 의미한다.
    
    > 손님 입장에서 캐시어는 대체 가능(substitutable)하다.
    > 
    
    > 여러 명이 동일한 역할을 수행할 수 있다면 요청자는 어떤 사람이 역할을 수행하더라도 문제가 되지 않는다.
    > 
- 책임을 수행하는 방법은 자율적으로 선택할 수 있다.
    
    > 요청을 받은 사람은 요청을 처리하는 방법을 자유롭게 선택할 수 있다.
    > 
    
    > 커피 제조를 요청받은 바리스타는 어떤 방법으로 커피를 만들어도 문제가 되지 않는다.
    > 
- 한 사람이 동시에 여러 역할을 수행할 수 있다.
    
    > 한 사람이 캐시어와 바리스타의 역할을 동시에 수행할 수 있다.
    > 

## 역할, 책임, 협력

### 기능을 구현하기 위해 협력하는 객체들

- 사람 → `객체`
- 요청 → `메시지`
- 요청을 처리하는 방법 → `메서드`

> 손님이 캐시어에게 커피를 주문하면 캐시어가 컵을 놓는다. → `객체`가 다른 `객체`에게 `메시지`를 보내면 `메서드`를 통해 처리한다.

### 역할과 책임을 수행하며 협력하는 객체들

- 협력의 핵심은 특정한 책임을 수행하는 역할들 간의 연쇄적인 요청과 응답을 통해 목표를 달성하는 것이다.
- 목표는 더 작은 책임으로 분할되고 책임을 수행할 수 있는 역할을 가진 사람에 의해 수행된다.
- 협럭에 참여하는 각 개인은 책임을 수행하기 위해 다른사람에게 도움을 요청하며, 이를 통해 요청과 응답으로 구성되는 협력 관계가 완성된다.

- 사람들의 협력과 객체들의 협력의 차이
    > 사람들은 공통의 목표를 달성하기 위해 협력한다.
    > 
    > 객체들은 애플리케이션의 기능을 구현하기 위해 협력한다.

- 객체지향 설계는 적절한 객체에게 적절한 책임을 할당하는 것에서 시작된다.

- 책임은 객체지향 설계의 품질을 결정하는 가장 중요한 요소이다.

- 책임이 불분명한 객체는 애플리케이션의 미래 역시 불분명하게 만든다.

- 객체에 적절한 책임 할당 → 좋은 애플리 케이션

## 협력 속에 사는 객체

객체지향 애플리케이션의 윤곽을 결정하는 것은 역할, 책임, 협력이지만 실제로 협력에 참여하는 주체는 객체다.

객체가 존재하지 않는 객체지향 세계는 아무런 의미가 없다.

> 객체는 협력적이어야 한다.
> 
> 객체는 자율적이어야 한다.

### 상태와 행동을 함께 지닌 자율적인 객체

- 객체가 협력에 참여하기 위해 어떤 행동을 해야 한다면 그 행동을 하는 데 필요한 상태도 함께 지니고 있어야 한다.

- 객체지향에서는 데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶어 놓음으로써 객체의 자율성을 보장한다.

- 자율적인 객체로 구성되면 유지보수가 쉽고 재사용이 용이한 시스템을 구축할 수 있다.

### 협력과 메시지

- 한 객체가 다른 객체에게 요청하는 것 → 메시지 전송

- 다른 객체로부터 요청을 받는 것 → 메시지 수신

> 객체지향 세계에서 협력은 메시지를 전송하는 객체와 메시지를 수신하는 객체 사이의 관계로 구성된다.

### 메서드와 자율성

- 객체가 수신된 메시지를 처리하는 방법 → 메서드(method)

- 객체지향 프로그래밍 언어에서 메서드는 클래스 안에 포함된 함수 또는 프로시저를 통해 구현된다.
 또한, 메시지를 수신한 객체가 실행 시간에 메서드를 선택할 수 있다. (절차적인 언어는 컴파일 시간에 프로시저 호출에 대한 실행 코드를 결정한다.)

- 메시지와 메서드의 분리는 객체의 협력에 참여한느 객체들 간의 자율성을 증진시킨다.

- 외부의 요청이 무엇인지를 표현하는 `메시지`와 요청을 처리하기 위한 구체적인 방법인 `메서드` 를 분리하는 것은 객체의 자율성을 높이는 핵심 메커니즘이다.

## 객체지향의 본질

1. 객체지향이란 시스템을 상호작용하는 `자율적인 객체들의 공동체`로 바라보고 객체를 이용해 시스템을 분할하는 방법이다.
2. 자율적인 객체란 `상태`와 `행위`를 함께 지니며 스스로 자기 자신을 책임지는 객체를 의미한다.
3. 객체는 시스템의 행위를 구현하기 위해 다른 객체와 `협력`한다. 각 객체는 협력 내에서 정해진 `역할`을 수행하며 역할은 관련된 책임의 `집합`이다.
4. 객체는 다른 객체와 협력하기 위해 메시지를 전송하고 `메시지`를 수신한 객체는 메시지를 처리하는 데 적합한 `메서드`를 자율적으로 선택한다.

### 객체를 지향하라

- 훌륭한 객체지향 설계자가 되기 위해 해야할 일

> 클래스의 관점에서 메시지를 주고받는 객체의 관점으로 사고의 중심을 전환한다.
> > 어떤 클래스가 필요한지가 아니라 어떤 객체들이 어떤 메시지를 주고 받으며 협력하는지를 중요시 해야 한다.

- 객체지향의 핵심

> 적절한 책임을 수행하는 역할 간의 유연하고 견고한 협력 관계를 구축하는 것
> 
> 객체지향의 중심에는 클래스가 아니라 객체가 위치한다.
> 
> 클래스들의 정적인 관계가 아니라 메시지를 주고받는 객체들의 동적인 관계가 중요하다.

- 클래스의 구조와 메서드가 아니라 객체의 역할, 책임, 협력에 집중하라.

# 느낀 점

객체지향을 현실세계와 비교하며 설명을 해서 이해하기가 쉬웠다.

현재 내가 개발할 때 쓰는 언어인 Swift는 객체지향 뿐만 아니라 함수형, 프로토콜형 언어이다.

그렇기 때문에 객체 지향의 개념에 대해서 알고 싶었다.

이번 장에서는 객체와 메시지, 메소드, 역할과 책임, 협력 등 객체지향에서 중요한 키워드들을 기억해 놓아야 겠다고 느꼈다.

또한, 클래스가 아닌 객체의 역할과 관계가 좋은 어플리케이션을 만든다는 것을 알게 되었다.

## 기억에 남는 문장

> 우리가 프로그래머라는 역할을 맡을 수 있는 이유는 훌륭한 프로그램을 개발할 책임을 기꺼이 받아들이기 때문이다.
>
